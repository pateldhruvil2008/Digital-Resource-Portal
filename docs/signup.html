<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>User Signup</title>

  <!-- âœ… Correct CSS link for GitHub Pages -->
  <link rel="stylesheet" href="css/style.css">
</head>

<body class="auth-page">

<div class="container">
  <h2>User Signup</h2>

  <form id="signupForm">
    <input id="u" placeholder="Username" required>
    <input id="p" type="password" placeholder="Password" required>

    <button type="submit">Signup</button>
  </form>

  <p id="msg"></p>

  <a href="login.html">Already have account? Login</a>
</div>

<script>
/* =========================
   USER SIGNUP (LOCALSTORAGE)
   GitHub Pages Compatible
========================= */

document.getElementById("signupForm").addEventListener("submit", function (e) {
  e.preventDefault();

  const username = document.getElementById("u").value.trim();
  const password = document.getElementById("p").value.trim();
  const msg = document.getElementById("msg");

  if (!username || !password) {
    msg.innerText = "All fields required";
    msg.style.color = "red";
    return;
  }

  // get users from localStorage
  const users = JSON.parse(localStorage.getItem("users")) || [];

  // check duplicate user
  if (users.find(u => u.username === username)) {
    msg.innerText = "User already exists";
    msg.style.color = "red";
    return;
  }

  // add new user
  users.push({ username, password });
  localStorage.setItem("users", JSON.stringify(users));

  msg.innerText = "Signup successful! You can login now.";
  msg.style.color = "green";

  // clear inputs
  document.getElementById("u").value = "";
  document.getElementById("p").value = "";

  // optional auto redirect after 1.5s
  setTimeout(() => {
    location.href = "login.html";
  }, 1500);
});
</script>

</body>
</html>
