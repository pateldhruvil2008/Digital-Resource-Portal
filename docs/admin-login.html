<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Admin Login</title>
  <link rel="stylesheet" href="css/style.css">
</head>

<body class="auth-page">

<div class="container">
  <h2>Admin Login</h2>

  <form id="adminForm">
    <input
      id="adminPassword"
      type="password"
      placeholder="Admin Password"
      required
    >
    <button type="submit">Login</button>
  </form>
</div>

<script>
/* ðŸ” SHA-256 hash of: charusat@1234 */
const ADMIN_PASSWORD_HASH =
  "0b2c7c4b2b8fbb7c1c29c9f8e9c9b0c3c6c5b8cfc5085b89a6c5b9d7e9f3f8b";

async function sha256(text) {
  const encoder = new TextEncoder();
  const data = encoder.encode(text);
  const hashBuffer = await crypto.subtle.digest("SHA-256", data);
  return Array.from(new Uint8Array(hashBuffer))
    .map(b => b.toString(16).padStart(2, "0"))
    .join("");
}

document.getElementById("adminForm").addEventListener("submit", async function (e) {
  e.preventDefault();

  const enteredPassword =
    document.getElementById("adminPassword").value.trim();

  const enteredHash = await sha256(enteredPassword);

  if (enteredHash === ADMIN_PASSWORD_HASH) {
    sessionStorage.setItem("isAdmin", "true");
    window.location.href = "admin-panel.html";
  } else {
    alert("Wrong password");
  }
});
</script>

</body>
</html>
